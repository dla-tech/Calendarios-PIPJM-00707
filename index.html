<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>PIPJM — Calendario de la semana</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Config externo (NO modificar este index para cambiar textos/colores) -->
<script src="./config/config.js"></script>

<style>
  :root{
    /* Colores y tamaños; se sobreescriben en runtime desde config */
    --bg:#0b1421; --card:#0f1b2c; --text:#e6eefc; --muted:#93a4bf; --accent:#16a34a; --warn:#ef4444;
    --fs:22px; --fs-big:64px; --fs-h1:42px; --fs-h2:28px;
    --shadow: 0 20px 50px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font:500 var(--fs)/1.35 system-ui,-apple-system,Segoe UI,Roboto,Arial;
    color:var(--text); background:var(--bg);
    display:flex; align-items:center; justify-content:center;
  }
  .wrap{width:min(1400px,96vw); margin:auto; padding:18px}
  header{
    display:flex; align-items:baseline; justify-content:space-between; gap:16px;
    margin:4px 0 14px;
  }
  .title{font-weight:900; font-size:calc(var(--fs-h1) + 4px); letter-spacing:.3px}
  .clock{display:flex; gap:12px; align-items:baseline}
  .dot{width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:8px}
  .ok{background:var(--accent)} .bad{background:var(--warn)}
  .big{font-size:var(--fs-big); font-weight:800; letter-spacing:.5px}
  .muted{color:var(--muted)}

  /* 3 paneles tipo carrusel */
  .row{display:grid; grid-template-columns: 1fr 1.5fr 1fr; gap:16px}
  .card{background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:16px; box-shadow:var(--shadow)}
  .card h2{margin:.1em 0 .5em; font-size:var(--fs-h2); color:#cfe0ff}
  .tag{display:inline-block; padding:4px 10px; border-radius:999px; background:#122742; color:#cfe0ff; font-weight:900; font-size:16px}
  .ev{border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:12px}
  .row2{display:grid; grid-template-columns: 1fr auto; gap:12px; align-items:center}
  .qr{width:220px; height:220px; border-radius:12px; background:#fff; display:flex; align-items:center; justify-content:center; overflow:hidden}
  .qr img{max-width:100%; max-height:100%}
  .marquee{white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
  .banner{display:flex; align-items:center; justify-content:center; min-height:48vh}
  .banner img{max-width:100%; max-height:58vh; border-radius:14px; box-shadow:var(--shadow)}
  .centerText{display:flex; align-items:center; justify-content:center; min-height:48vh; flex-direction:column; gap:10px}
  .titleCenter{font-weight:900; text-align:center; font-size:calc(var(--fs-h1) + 2px)}
  .subCenter{color:var(--muted); text-align:center; font-size:calc(var(--fs) + 2px)}

  /* Columna derecha: listado del día actual */
  .list{display:grid; gap:10px}
  .list .ev .time{font-weight:900}

  .status{position:fixed; left:12px; bottom:10px; font:600 12px system-ui; color:#9fb3d4}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">Calendario de la semana</div>
      <div class="clock">
        <span id="liveDot" class="dot ok"></span>
        <div id="now" class="big">--:--</div>
        <div id="date" class="muted" style="font-size:calc(var(--fs) + 2px)"></div>
      </div>
    </header>

    <div class="row">
      <!-- Panel previo -->
      <div id="panel-prev" class="card">
        <h2 id="h-prev">Anterior</h2>
        <div id="body-prev"></div>
      </div>

      <!-- Panel actual (grande) -->
      <div id="panel-now" class="card">
        <h2 id="h-now">Hoy</h2>
        <div id="body-now"></div>
      </div>

      <!-- Panel siguiente -->
      <div id="panel-next" class="card">
        <h2 id="h-next">Siguiente</h2>
        <div id="body-next"></div>
      </div>
    </div>

    <!-- Columna/listado del día actual -->
    <div class="card" style="margin-top:16px">
      <h2 id="listTitle">Eventos de hoy</h2>
      <div id="list" class="list"></div>
    </div>
  </div>

  <div class="status" id="status">Cargando ICS…</div>

  <!-- Lógica principal -->
  <script src="./js/main.js"></script>
</body>
</html>